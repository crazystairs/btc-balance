<html>
<head>
<title>BTC balances</title>
<script language="JavaScript">
//-----------------------------------------------
//CONFIG:
var addressBoldLength = 6;
var balanceAfterDecimalBoldLength = 2;
var addresses =
[
"128kp1raagPHPZNCj9gNgRGZ71FPp9uj2H",
"1FfAwwL45LK3Lag2Ktzy2ASmhTfFmbsxcQ"
];
//-----------------------------------------------
function printBalances()
{
	document.write
	(
		"<html><head><title>BTC Balances</title></head><body bgcolor=\"#000000\">"
		+ "<font color=\"#00ff00\">"
	);
	for (var i = 0; i < addresses.length; i++)
	{
		var currentBalance = (1e-8* parseFloat(getBalance(addresses[i]))).toString();
		var decimalLocation = currentBalance.indexOf(".");
		document.write
		(
			"<b>"
			+ addresses[i].substring(0,addressBoldLength)
			+ "</b>"
			+ addresses[i].substr(addressBoldLength) + ": "
			+ "<b>"
			+ currentBalance.substring(0,decimalLocation + balanceAfterDecimalBoldLength + 1)
			+ "</b>"
			+ currentBalance.substr(decimalLocation + balanceAfterDecimalBoldLength + 1)
			+ "<br/>"
		);
	}
	document.write("</body></html>")
}

function getBalance(address)
{
	return httpGet("http://blockchain.info/de/q/addressbalance/" + address);
}

// http://stackoverflow.com/a/4033310/536890
function httpGet(theUrl)
{
	var xmlHttp = null;

	xmlHttp = new XMLHttpRequest();
	xmlHttp.open( "GET", theUrl, false );
	xmlHttp.send( null );
	return xmlHttp.responseText;
}

</script>
</head>
<body bgcolor="#000000" onload="printBalances()">
</body>
</html>
